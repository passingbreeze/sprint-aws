(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{57:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(31),c=n.n(s),i=n(10),o=n(11),r=n(8),u=n(12),l=n(13),h=n(2),d=n(17),j=n.n(d),b=n(32),g=(n(57),n(1)),p=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={username:"",password:""},a.handleSubmit=a.handleSubmit.bind(Object(r.a)(a)),a.handleChange=a.handleChange.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"handleSubmit",value:function(){var t=this,e=this.state,n=e.username,a=e.password;j.a.post("".concat("https://api.passingbreeze.click","/signin"),{username:n,password:a},{withCredentials:!0}).then((function(e){localStorage.setItem("accessToken",e.data),t.props.handleStatus()})).catch((function(e){t.setState({username:"",password:""}),401===e.response.status&&alert("\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}))}},{key:"handleChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"form-container",children:Object(g.jsxs)("form",{className:"form-items",onSubmit:function(t){return t.preventDefault()},children:[Object(g.jsx)("div",{className:"login",children:"Login"}),Object(g.jsx)("input",{type:"text",name:"username",placeholder:"\uc774\ub984",value:this.state.username,onChange:this.handleChange}),Object(g.jsx)("input",{type:"password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:this.state.password,onChange:this.handleChange}),Object(g.jsx)("button",{type:"submit",onClick:this.handleSubmit,children:"\ub85c\uadf8\uc778"})]})})}}]),n}(a.Component),O=Object(h.g)(p),m=(n(67),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).handleLogout=a.handleLogout.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"handleLogout",value:function(){localStorage.removeItem("accessToken"),this.props.changeLoginStatus()}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"main-container",children:[Object(g.jsx)("div",{className:"session",children:"\ud1a0\ud070\uc744 \uc815\uc0c1\uc801\uc73c\ub85c \ubc1b\uc558\uc2b5\ub2c8\ub2e4"}),Object(g.jsx)("div",{className:"db",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc138\uc694"}),Object(g.jsx)("button",{type:"submit",onClick:this.handleLogout,children:"\ub85c\uadf8\uc544\uc6c3"})]})}}]),n}(a.Component)),v=(n(68),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={isLogin:!1,status:""},a.handleStatus=a.handleStatus.bind(Object(r.a)(a)),a.changeLoginStatus=a.changeLoginStatus.bind(Object(r.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.handleStatus()}},{key:"handleStatus",value:function(){var t=this;j.a.get("".concat("https://api.passingbreeze.click","/status"),{withCredentials:!0,headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then((function(e){t.setState({isLogin:e.data.isLogin,status:e.data.isConnectedToDatabase},(function(){console.log("\uc2dc\uc791"),t.props.history.push("/")}))})).catch((function(t){return console.log(t)}))}},{key:"changeLoginStatus",value:function(){var t=this;this.setState({isLogin:!1,status:""},(function(){t.props.history.push("/")}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.isLogin,a=e.status;return Object(g.jsx)("div",{className:"app",children:Object(g.jsxs)("div",{className:"container",children:[n?Object(g.jsx)("div",{className:"success",children:"\ub85c\uadf8\uc778\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}):Object(g.jsx)("div",{className:"status",children:"\uc774\ub984\uc5d0\ub294 \uae40\ucf54\ub529,\ube44\ubc00\ubc88\ud638\uc5d0\ub294 1234\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4"}),n?a?Object(g.jsx)("div",{className:"success",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}):Object(g.jsx)("div",{className:"fail",children:"\ud558\uc9c0\ub9cc, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}):"",Object(g.jsxs)(h.d,{children:[Object(g.jsx)(h.b,{exact:!0,path:"/main",render:function(){return Object(g.jsx)(m,{changeLoginStatus:t.changeLoginStatus})}}),Object(g.jsx)(h.b,{exact:!0,path:"/login",render:function(){return Object(g.jsx)(O,{handleStatus:t.handleStatus})}}),Object(g.jsx)(h.b,{path:"/",render:function(){return n?Object(g.jsx)(h.a,{to:"/main"}):Object(g.jsx)(h.a,{to:"/login"})}})]})]})})}}]),n}(a.Component)),f=Object(h.g)(v),x=n(15);n(69).config(),c.a.render(Object(g.jsx)(x.a,{children:Object(g.jsx)(f,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.9cfed0ea.chunk.js.map